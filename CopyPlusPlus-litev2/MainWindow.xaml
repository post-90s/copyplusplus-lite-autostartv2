<mah:MetroWindow
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Class="CopyPlusPlus.MainWindow"
    mc:Ignorable="d"
    Title="Copy++ Lite"
    Height="190"
    Width="420"
    ResizeMode="CanMinimize"
    WindowStartupLocation="CenterScreen"
    WindowTransitionsEnabled="False"
    Closed="MainWindow_Closed"
    Closing="MainWindow_Closing"
    ShowActivated="False">

    <mah:MetroWindow.TitleTemplate>
        <DataTemplate>
            <TextBlock Text="{TemplateBinding Content}"
                       TextTrimming="CharacterEllipsis"
                       VerticalAlignment="Center"
                       Margin="8 -1 8 0"
                       FontFamily="Microsoft YaHei UI"
                       FontWeight="Bold"
                       FontSize="16" />
        </DataTemplate>
    </mah:MetroWindow.TitleTemplate>

    <mah:MetroWindow.IconTemplate>
        <DataTemplate>
            <Grid Width="{TemplateBinding Width}"
                  Height="{TemplateBinding Height}"
                  Margin="4"
                  Background="Transparent"
                  RenderOptions.EdgeMode="Aliased"
                  RenderOptions.BitmapScalingMode="HighQuality">
                <Image Source="copy.ico" />
            </Grid>
        </DataTemplate>
    </mah:MetroWindow.IconTemplate>

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="12" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0" LastChildFill="False">
            <mah:ToggleSwitch x:Name="SwitchShortcut"
                              DockPanel.Dock="Left"
                              MinWidth="0"
                              ContentDirection="LeftToRight"
                              Content="Control+C+C"
                              FontWeight="Bold"
                              FontFamily="Microsoft YaHei UI"
                              IsOn="True" />

            <Button x:Name="ManualBtn"
                    DockPanel.Dock="Right"
                    Content="手动处理"
                    FontFamily="Microsoft YaHei UI"
                    Height="28"
                    Padding="12,3"
                    Click="ManualBtn_Click"
                    Style="{DynamicResource MahApps.Styles.Button.Flat}" />
        </DockPanel>

        <Border Grid.Row="2" Background="#FFEBEBEB" Padding="10" CornerRadius="6">
            <StackPanel>
                <mah:ToggleSwitch x:Name="SwitchMain"
                                  MinWidth="0"
                                  ContentDirection="LeftToRight"
                                  Content="合并换行"
                                  FontWeight="Bold"
                                  FontFamily="Microsoft YaHei UI"
                                  IsOn="True"
                                  ToolTip="复制后，自动合并换行，直接粘贴即可" />
                <mah:ToggleSwitch x:Name="SwitchSpace"
                                  MinWidth="0"
                                  Margin="0,8,0,0"
                                  ContentDirection="LeftToRight"
                                  Content="去除空格"
                                  FontWeight="Bold"
                                  FontFamily="Microsoft YaHei UI"
                                  IsOn="False"
                                  ToolTip="会移除普通空格、制表符、NBSP/全角空格（复制英文时请谨慎）" />
            </StackPanel>
        </Border>

        <TextBlock Grid.Row="3"
                   Margin="0,10,0,0"
                   TextWrapping="Wrap"
                   FontFamily="Microsoft YaHei UI"
                   FontSize="12"
                   Foreground="#444">
            提示：可以最小化到托盘。托盘右键可“开机自启动/禁用/恢复/退出”。
        </TextBlock>
    </Grid>
</mah:MetroWindow>
